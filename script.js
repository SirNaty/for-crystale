const canvas=document.getElementById('petals');const ctx=canvas.getContext('2d');canvas.width=window.innerWidth;canvas.height=window.innerHeight;const petalImg=new Image();petalImg.src='images/petal.png';class Petal{constructor(){this.reset();}reset(){this.x=Math.random()*canvas.width;this.y=Math.random()*-canvas.height;this.size=Math.random()*30+20;this.speed=Math.random()*2+1;this.angle=Math.random()*2*Math.PI;this.angularSpeed=(Math.random()-0.5)*0.02;this.opacity=Math.random()*0.5+0.5;this.fadeSpeed=Math.random()*0.002+0.001;this.drift=Math.random()*1.5-0.75;this.hovered=false;}update(){if(!this.hovered)this.y+=this.speed;this.x+=Math.sin(this.angle)*1.5+this.drift;this.angle+=this.angularSpeed;this.opacity-=this.fadeSpeed;if(this.opacity<=0||this.y>canvas.height||this.x<-50||this.x>canvas.width+50)this.reset();}draw(){ctx.save();ctx.globalAlpha=this.opacity;ctx.translate(this.x,this.y);ctx.rotate(this.angle);ctx.drawImage(petalImg,-this.size/2,-this.size/2,this.size,this.size);ctx.restore();}}const petals=[];for(let i=0;i<120;i++)petals.push(new Petal());function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);petals.forEach(p=>{p.update();p.draw();});requestAnimationFrame(animate);}function interact(x,y){petals.forEach(p=>{const dx=x-p.x;const dy=y-p.y;if(dx*dx+dy*dy<10000)p.hovered=true;else p.hovered=false;});}canvas.addEventListener('mousemove',e=>interact(e.clientX,e.clientY));canvas.addEventListener('touchmove',e=>{if(e.touches.length>0){interact(e.touches[0].clientX,e.touches[0].clientY);}});animate();window.addEventListener('resize',()=>{canvas.width=window.innerWidth;canvas.height=window.innerHeight;});const music=document.getElementById('music');const musicBtn=document.getElementById('music-toggle');musicBtn.addEventListener('click',()=>{if(music.paused){music.play();musicBtn.textContent='Pause Music';}else{music.pause();musicBtn.textContent='Play Music';}});